-- Generated by utils/generate_premake.py
-- Lambda Build System Premake5 Configuration
-- DO NOT EDIT MANUALLY - Regenerate using: python3 utils/generate_premake.py

workspace "Lambda-Tests-Linux"
    configurations { "Debug", "Release" }
    platforms { "x64", "Linux_x64" }
    location "build_linux/test"
    startproject "test"
    toolset "gcc"
    
    -- Global settings
    cppdialect "C++17"
    cdialect "C99"
    warnings "Extra"
    
    filter "configurations:Debug"
        defines { "DEBUG" }
        symbols "On"
        optimize "Off"
    
    -- AddressSanitizer for non-Linux platforms only (conflicts with -static)
    filter { "configurations:Debug", "not platforms:Linux_x64" }
        buildoptions { "-fsanitize=address", "-fno-omit-frame-pointer" }
        linkoptions { "-fsanitize=address" }
    
    filter "configurations:Release"
        defines { "NDEBUG" }
        optimize "On"
    
    -- Linux cross-compilation settings
    filter "platforms:Linux_x64"
        system "linux"
        architecture "x64"
        toolset "gcc"
        gccprefix "x86_64-linux-gnu-"
        defines { "LINUX", "_GNU_SOURCE", "NATIVE_LINUX_BUILD" }
        buildoptions { "-static", "-O2", "-g", "-pedantic", "-fno-omit-frame-pointer" }
        linkoptions { "-static" }
        libdirs { "linux-deps/lib" }
    
    filter {}

project "lambda-lib"
    kind "StaticLib"
    language "C"
    targetdir "build/lib"
    objdir "build/obj/%{prj.name}"
    
    -- Meta-library: combines source files from dependencies
    files {
        "lib/mem-pool/src/variable.c",
        "lib/mem-pool/src/buffer.c",
        "lib/mem-pool/src/utils.c",
        "lib/strbuf.c",
        "lib/stringbuf.c",
        "lib/strview.c",
        "lib/string.c",
        "lib/num_stack.c",
        "lib/datetime.c",
        "lib/url.c",
        "lib/url_parser.c",
        "lib/log.c",
        "lambda/input/mime-detect.c",
        "lambda/input/mime-types.c",
    }
    
    includedirs {
        "lib/mem-pool/include",
    }
    
    buildoptions {
        "-fms-extensions",
        "-pedantic",
        "-fdiagnostics-color=auto",
    }
    

project "test"
    kind "ConsoleApp"
    language "C++"
    targetdir "."
    objdir "build/obj/%{prj.name}"
    targetname "lambda"
    targetextension ".exe"
    
    files {
    }
    
    includedirs {
        ".",
        "lambda/tree-sitter/lib/include",
        "lambda/tree-sitter-lambda/bindings/c",
        "lib/mem-pool/include",
        "/usr/local/include",
        "/opt/homebrew/include",
    }
    
    libdirs {
        "/opt/homebrew/lib",
        "/usr/local/lib",
        "build/lib",
    }
    
    buildoptions {
        "-fms-extensions",
        "-pedantic",
        "-fdiagnostics-color=auto",
    }
    
    -- C++ specific options
    filter "files:**.cpp"
        buildoptions { "-std=c++17" }
    
    -- C specific options
    filter "files:**.c"
        buildoptions { "-std=c99" }
    
    filter {}
    
    defines {
        "_GNU_SOURCE"
    }
    

project "test_strbuf_catch2"
    kind "ConsoleApp"
    language "C++"
    targetdir "test"
    objdir "build/obj/%{prj.name}"
    targetextension ".exe"
    
    files {
        "test/test_strbuf_catch2.cpp",
    }
    
    includedirs {
        "lib/mem-pool/include",
        "linux-deps/include",
        "linux-deps/include/ncurses",
    }
    
    libdirs {
        "linux-deps/lib",
        "build/lib",
    }
    
    links {
        "lambda-lib",
        "Catch2Maind",
        "Catch2d",
    }
    
    buildoptions {
        "-fms-extensions",
        "-pedantic",
        "-fdiagnostics-color=auto",
    }
    

project "test_stringbuf_catch2"
    kind "ConsoleApp"
    language "C++"
    targetdir "test"
    objdir "build/obj/%{prj.name}"
    targetextension ".exe"
    
    files {
        "test/test_stringbuf_catch2.cpp",
    }
    
    includedirs {
        "lib/mem-pool/include",
        "linux-deps/include",
        "linux-deps/include/ncurses",
    }
    
    libdirs {
        "linux-deps/lib",
        "build/lib",
    }
    
    links {
        "lambda-lib",
        "Catch2Maind",
        "Catch2d",
    }
    
    buildoptions {
        "-fms-extensions",
        "-pedantic",
        "-fdiagnostics-color=auto",
    }
    

project "test_strview_catch2"
    kind "ConsoleApp"
    language "C++"
    targetdir "test"
    objdir "build/obj/%{prj.name}"
    targetextension ".exe"
    
    files {
        "test/test_strview_catch2.cpp",
    }
    
    includedirs {
        "lib/mem-pool/include",
        "linux-deps/include",
        "linux-deps/include/ncurses",
    }
    
    libdirs {
        "linux-deps/lib",
        "build/lib",
    }
    
    links {
        "lambda-lib",
        "Catch2Maind",
        "Catch2d",
    }
    
    buildoptions {
        "-fms-extensions",
        "-pedantic",
        "-fdiagnostics-color=auto",
    }
    

project "test_variable_pool_catch2"
    kind "ConsoleApp"
    language "C++"
    targetdir "test"
    objdir "build/obj/%{prj.name}"
    targetextension ".exe"
    
    files {
        "test/test_variable_pool_catch2.cpp",
    }
    
    includedirs {
        "lib/mem-pool/include",
        "linux-deps/include",
        "linux-deps/include/ncurses",
    }
    
    libdirs {
        "linux-deps/lib",
        "build/lib",
    }
    
    links {
        "lambda-lib",
        "Catch2Maind",
        "Catch2d",
    }
    
    buildoptions {
        "-fms-extensions",
        "-pedantic",
        "-fdiagnostics-color=auto",
    }
    

project "test_num_stack_catch2"
    kind "ConsoleApp"
    language "C++"
    targetdir "test"
    objdir "build/obj/%{prj.name}"
    targetextension ".exe"
    
    files {
        "test/test_num_stack_catch2.cpp",
    }
    
    includedirs {
        "lib/mem-pool/include",
        "linux-deps/include",
        "linux-deps/include/ncurses",
    }
    
    libdirs {
        "linux-deps/lib",
        "build/lib",
    }
    
    links {
        "lambda-lib",
        "Catch2Maind",
        "Catch2d",
    }
    
    buildoptions {
        "-fms-extensions",
        "-pedantic",
        "-fdiagnostics-color=auto",
    }
    

project "test_datetime_catch2"
    kind "ConsoleApp"
    language "C++"
    targetdir "test"
    objdir "build/obj/%{prj.name}"
    targetextension ".exe"
    
    files {
        "test/test_datetime_catch2.cpp",
    }
    
    includedirs {
        "lib/mem-pool/include",
        "linux-deps/include",
        "linux-deps/include/ncurses",
    }
    
    libdirs {
        "linux-deps/lib",
        "build/lib",
    }
    
    links {
        "lambda-lib",
        "Catch2Maind",
        "Catch2d",
    }
    
    buildoptions {
        "-fms-extensions",
        "-pedantic",
        "-fdiagnostics-color=auto",
    }
    

project "test_url_catch2"
    kind "ConsoleApp"
    language "C++"
    targetdir "test"
    objdir "build/obj/%{prj.name}"
    targetextension ".exe"
    
    files {
        "test/test_url_catch2.cpp",
    }
    
    includedirs {
        "lib/mem-pool/include",
        "linux-deps/include",
        "linux-deps/include/ncurses",
    }
    
    libdirs {
        "linux-deps/lib",
        "build/lib",
    }
    
    links {
        "lambda-lib",
        "Catch2Maind",
        "Catch2d",
    }
    
    buildoptions {
        "-fms-extensions",
        "-pedantic",
        "-fdiagnostics-color=auto",
    }
    

project "test_url_extra_catch2"
    kind "ConsoleApp"
    language "C++"
    targetdir "test"
    objdir "build/obj/%{prj.name}"
    targetextension ".exe"
    
    files {
        "test/test_url_extra_catch2.cpp",
    }
    
    includedirs {
        "lib/mem-pool/include",
        "linux-deps/include",
        "linux-deps/include/ncurses",
    }
    
    libdirs {
        "linux-deps/lib",
        "build/lib",
    }
    
    links {
        "lambda-lib",
        "Catch2Maind",
        "Catch2d",
    }
    
    buildoptions {
        "-fms-extensions",
        "-pedantic",
        "-fdiagnostics-color=auto",
    }
    
