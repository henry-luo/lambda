{
  "tests": [
    {
      "suite": "validator",
      "name": "🔍 Validator Tests",
      "sources": ["test/test_validator.c"],
      "dependencies": ["build_lambda_config.json"],
      "binaries": ["test/test_validator.exe"],
      "type": "validator",
      "special_flags": "-Iinclude -Ilambda -Ilambda/validator -fms-extensions",
      "uses_build_config": true,
      "environment": {
        "TEST_DIR_PATH": "$PWD/test/lambda/validator",
        "LAMBDA_EXE_PATH": "$PWD/lambda.exe"
      },
      "requires_lambda_exe": true,
      "parallel": true
    },
    {
      "suite": "library",
      "name": "📚 Library Tests",
      "sources": [
        "test_strbuf.c",
        "test_strview.c",
        "test_variable_pool.c",
        "test_num_stack.c"
      ],
      "dependencies": [
        "lib/strbuf.c lib/mem-pool/src/variable.c lib/mem-pool/src/buffer.c lib/mem-pool/src/utils.c -Ilib/mem-pool/include",
        "lib/strview.c",
        "lib/mem-pool/src/variable.c lib/mem-pool/src/buffer.c lib/mem-pool/src/utils.c -Ilib/mem-pool/include",
        "lib/num_stack.c"
      ],
      "binaries": [
        "test_strbuf.exe",
        "test_strview.exe",
        "test_variable_pool.exe",
        "test_num_stack.exe"
      ],
      "type": "library",
      "special_flags": "-fms-extensions",
      "parallel": true
    },
    {
      "suite": "input",
      "name": "📄 Input Processing Tests",
      "sources": [
        "test_mime_detect.c",
        "test_math.c",
        "test_input.c"
      ],
      "dependencies": [
        "lambda/input/mime-detect.c lambda/input/mime-types.c",
        "lib/file.c build/print.o build/strview.o build/transpile.o build/utf.o build/build_ast.o build/lambda-eval.o build/lambda-mem.o build/runner.o build/mir.o build/url.o build/parse.o build/parser.o build/num_stack.o build/input*.o build/format*.o build/strbuf.o build/hashmap.o build/arraylist.o build/variable.o build/buffer.o build/utils.o build/mime-detect.o build/mime-types.o lambda/tree-sitter-lambda/libtree-sitter-lambda.a lambda/tree-sitter/libtree-sitter.a -Ilib/mem-pool/include -L/opt/homebrew/lib -lgmp -L/usr/local/lib /usr/local/lib/libmir.a /usr/local/lib/libzlog.a /usr/local/lib/liblexbor_static.a|||lib/file.c build/print.o build/strview.o build/transpile.o build/utf.o build/build_ast.o build/lambda-eval.o build/lambda-mem.o build/runner.o build/mir.o build/url.o build/parse.o build/parser.o build/num_stack.o build/input*.o build/format*.o build/strbuf.o build/hashmap.o build/arraylist.o build/variable.o build/buffer.o build/utils.o build/mime-detect.o build/mime-types.o lambda/tree-sitter-lambda/libtree-sitter-lambda.a lambda/tree-sitter/libtree-sitter.a -Ilib/mem-pool/include -L/opt/homebrew/lib -lgmp -L/usr/local/lib /usr/local/lib/libmir.a /usr/local/lib/libzlog.a /usr/local/lib/liblexbor_static.a",
        "lib/file.c build/print.o build/strview.o build/transpile.o build/utf.o build/build_ast.o build/lambda-eval.o build/lambda-mem.o build/runner.o build/mir.o build/url.o build/parse.o build/parser.o build/num_stack.o build/input*.o build/format*.o build/strbuf.o build/hashmap.o build/arraylist.o build/variable.o build/buffer.o build/utils.o build/mime-detect.o build/mime-types.o lambda/tree-sitter-lambda/libtree-sitter-lambda.a lambda/tree-sitter/libtree-sitter.a -Ilib/mem-pool/include -L/opt/homebrew/lib -lgmp -L/usr/local/lib /usr/local/lib/libmir.a /usr/local/lib/libzlog.a /usr/local/lib/liblexbor_static.a"
      ],
      "binaries": [
        "test_mime_detect.exe",
        "test_math.exe",
        "test_input.exe"
      ],
      "type": "input",
      "special_flags": "-fms-extensions",
      "parallel": true
    },
    {
      "suite": "mir",
      "name": "⚡ MIR JIT Tests",
      "sources": ["test/test_mir.c"],
      "dependencies": ["build_lambda_config.json"],
      "binaries": ["test/test_mir.exe"],
      "type": "mir",
      "special_flags": "-std=c99 -Wall -Wextra -O2 -g -fms-extensions -pedantic",
      "uses_build_config": true,
      "requires_jq": true,
      "parallel": true
    },
    {
      "suite": "lambda",
      "name": "🐑 Lambda Runtime Tests",
      "sources": ["test/test_lambda.c"],
      "dependencies": ["build_lambda_config.json"],
      "binaries": ["test/test_lambda.exe"],
      "type": "lambda",
      "special_flags": "-fms-extensions",
      "uses_build_config": true,
      "requires_jq": true,
      "parallel": true
    }
  ]
}
