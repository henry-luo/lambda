# Dockerfile for running pre-built Linux Catch2 test executables
FROM ubuntu:22.04

ENV DEBIAN_FRONTEND=noninteractive
ENV TZ=UTC

# Install minimal runtime dependencies
RUN apt-get update && apt-get install -y \
    libc6-dev \
    libstdc++6 \
    ca-certificates \
    && rm -rf /var/lib/apt/lists/*

# Create a non-root user for running tests
RUN useradd -m -s /bin/bash testuser

# Set working directory
WORKDIR /workspace

# Switch to test user
USER testuser

# Default command
CMD ["/bin/bash"]